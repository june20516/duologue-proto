syntax = "proto3";

package duologue.v1;

import "google/protobuf/timestamp.proto";

option go_package = "github.com/june20516/duologue-server/gen/go/duologue/v1;duologuev1";

// ==========================================
// Common Types
// ==========================================

// Error represents a standardized error response.
message Error {
  ErrorCode code = 1;
  string message = 2;
  map<string, string> details = 3;
}

enum ErrorCode {
  ERROR_CODE_UNSPECIFIED = 0;
  ERROR_CODE_INVALID_PROTOBUF = 1;
  ERROR_CODE_HANDLER_ERROR = 2;
  ERROR_CODE_AUTH_TIMEOUT = 3;
  ERROR_CODE_AUTH_ERROR = 4;
  ERROR_CODE_AUTH_REQUIRED = 5;
  ERROR_CODE_INVALID_TOKEN = 6;
  ERROR_CODE_ALREADY_CONNECTED = 7;
  ERROR_CODE_PROFILE_ERROR = 8;
  ERROR_CODE_PROFILE_NOT_FOUND = 9;
  ERROR_CODE_ALREADY_IN_QUEUE = 10;
  ERROR_CODE_QUEUE_ERROR = 11;
  ERROR_CODE_NOT_IN_QUEUE = 12;
  ERROR_CODE_MATCH_NOT_FOUND = 13;
  ERROR_CODE_NOT_PARTICIPANT = 14;
  ERROR_CODE_ACCEPT_ERROR = 15;
  ERROR_CODE_MATCH_ERROR = 16;
  ERROR_CODE_REJECT_ERROR = 17;
  ERROR_CODE_SYSTEM_ERROR = 18;
  ERROR_CODE_INVALID_ARGUMENT = 19;
  ERROR_CODE_INTERNAL = 20;
  ERROR_CODE_ALREADY_EXISTS = 21;
}

// PaginationRequest represents standard pagination parameters.
message PaginationRequest {
  int32 page = 1;
  int32 page_size = 2;
  string page_token = 3;
}

// PaginationResponse represents standard pagination metadata.
message PaginationResponse {
  int32 total_count = 1;
  int32 total_pages = 2;
  string next_page_token = 3;
}

// Date represents a whole calendar date, e.g. date of birth.
message Date {
  int32 year = 1;
  int32 month = 2;
  int32 day = 3;
}

enum Gender {
  GENDER_UNSPECIFIED = 0;
  GENDER_MALE = 1;
  GENDER_FEMALE = 2;
  GENDER_OTHERS = 3;
}

enum GenderPreference {
  GENDER_PREFERENCE_UNSPECIFIED = 0;
  GENDER_PREFERENCE_MALE = 1;
  GENDER_PREFERENCE_FEMALE = 2;
  GENDER_PREFERENCE_OTHERS = 3;
  GENDER_PREFERENCE_ANY = 4;
}
