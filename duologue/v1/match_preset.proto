syntax = "proto3";

package duologue.v1;

import "duologue/v1/common.proto";

option go_package = "github.com/june20516/duologue-server/gen/go/duologue/v1;duologuev1";

// ==========================================
// Match Preset Service
// ==========================================

service MatchPresetService {
  rpc GetMatchPreset(GetMatchPresetRequest) returns (GetMatchPresetResponse);
  rpc UpdateMatchPreset(UpdateMatchPresetRequest) returns (UpdateMatchPresetResponse);
  rpc DeleteMatchPreset(DeleteMatchPresetRequest) returns (DeleteMatchPresetResponse);
}

// ==========================================
// Messages
// ==========================================

message MatchPreset {
  string preferred_gender = 1; // "male", "female", "any"
  int32 min_age = 2;
  int32 max_age = 3;
  // Add other fields as per models.MatchPreset but keeping it simple for now based on REST
}

message GetMatchPresetRequest {}

message GetMatchPresetResponse {
  oneof result {
    GetMatchPresetSuccess success = 1;
    Error error = 2;
  }
}

message GetMatchPresetSuccess {
  MatchPreset preset = 1;
}

message UpdateMatchPresetRequest {
  string preferred_gender = 1;
  int32 min_age = 2;
  int32 max_age = 3;
}

message UpdateMatchPresetResponse {
  oneof result {
    UpdateMatchPresetSuccess success = 1;
    Error error = 2;
  }
}

message UpdateMatchPresetSuccess {
  MatchPreset preset = 1;
}

message DeleteMatchPresetRequest {}

message DeleteMatchPresetResponse {
  oneof result {
    DeleteMatchPresetSuccess success = 1;
    Error error = 2;
  }
}

message DeleteMatchPresetSuccess {
  string message = 1;
}
